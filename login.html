<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="/css/bootstrap/bootstrap.min.css" rel="stylesheet">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">

    <style>
        .custom-login {
            position: relative;
            top: 3rem;
            width: 90%;
            margin: 0 auto;
        }
        
        .custom-login>div {}
        
        .custom-login-shadow {
            box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px;
        }
        
        .fa-superpowers {
            background-color: #7613f1;
            color: wheat;
            padding: 0.8rem;
            border-radius: 100%;
        }
        
        .custom-user-form-logo i {
            color: #7613f1;
            font-size: 9rem;
        }
        
        .custom-form-fileds-collection {}
        
        .custom-2d-field,
        .custom-3d-field {
            /* display: grid;
            grid-template-columns: 3rem 111%;
            align-items: center; */
            border-radius: 1rem;
        }
        
        .custom-3d-field {}
        
        .custom-2d-field i,
        .custom-3d-field i {}
        
        .custom-2d-field input,
        .custom-3d-field input {
            color: black;
            font-size: 1.6rem;
            padding: 0.2rem;
            border-width: 0px;
            border-top-right-radius: inherit;
            border-bottom-right-radius: inherit;
            border: 2px solid #cec0c0;
        }
        
        .custom-3d-field input {
            border-radius: 0rem;
        }
        
        .custom-field-logo-left,
        .custom-field-logo-right {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            background-color: #7613f1;
            color: white;
            border-width: 0px;
            border-top-left-radius: inherit;
            border-bottom-left-radius: inherit;
        }
        
        .custom-field-logo-right {
            border-radius: 0rem;
            border-top-right-radius: inherit;
            border-bottom-right-radius: inherit;
        }
        
        .form-submit-btn,
        .custom-user-form-logo {
            display: flex;
            align-items: center;
            flex-direction: column;
        }
        
        .form-submit-btn button {
            background-color: #7613f1;
        }
        
        .custom-spinner {
            color: #7613f1;
        }
    </style>
    <title>ConnectZona- Login</title>
</head>

<body>
    <!--login form start-->
    <div class="row justify-content-center custom-login justify-content-center">
        <div class="col-12 col-xl-5 custom-login-shadow row py-4 justify-content-center">
            <div class="logo col-12">
                <h1 class="text-center"><i class="fab fa-superpowers"></i> ConnectZona</h1>
            </div>
            <div class="custom-form-name mt-2 col-12">
                <h4 class="text-center fs-2">Login</h4>
            </div>
            <div class="custom-user-form-logo mt-3 col-12">
                <i class="fas fa-user-circle"></i>
            </div>
            <div class="col-12 mt-2" id="message-box">
                <h4 class="text-dark">We will send you a OTP code in your phone no and email</h4>
            </div>
            <div class="custom-form-fileds-collection row col-12 justify-content-center">
                <div class="custom-2d-field mt-3 col-12 row justify-content-center">
                    <div class="custom-field-logo-left col-2">
                        <i class="fas fa-envelope fs-4"></i>
                    </div>
                    <input type="email" name="" id="email-bar" class="col-10" placeholder="Email" />
                </div>
                <div class="custom-3d-field mt-3 col-12 row justify-content-center">
                    <div class="custom-field-logo-left col-2">
                        <i class="fas fa-lock fs-4"></i>
                    </div>
                    <input type="password" name="" placeholder="Password" class="col-8" id="password-bar">
                    <div class="custom-field-logo-right col-2" id="password-show-hide">
                        <i class="fas fa-eye fs-4"></i>
                    </div>
                </div>
            </div>
            <div class="d-flex justify-content-center col-12 mt-2" id="loading-box" style="display:none !important;">

                <div class="custom-spinner spinner-border  fs-4" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
            <div class="form-submit-btn mt-3">
                <button class="btn btn-primary fs-3"><i class="fas fa-sign-in-alt"></i></button>
            </div>
        </div>
    </div>
    <!--login form end-->
    <script src="/js/bootstrap/bootstrap.bundle.min.js"></script>
    <script type="text/javascript">
        let password_bar = document.getElementById("password-bar");
        let password_show = document.getElementById("password-show-hide");

        password_show.addEventListener("click", function() {

            //visible the password field
            if (password_bar.getAttribute("type") == "password") {
                password_bar.setAttribute("type", "text");
                password_show.innerHTML = `<i class="fas fa-eye fs-4"></i>`
            }

            //invisible the password field
            else if (password_bar.getAttribute("type") == "text") {
                password_bar.setAttribute("type", "password");
                password_show.innerHTML = `<i class="fas fa-eye-slash fs-4"></i>`
            }

        });

        function required(sample) {
            let step1 = sample.trim();
            if (step1.length == 0) {
                return false;
            }
            return true;
        }


        function cleanData(sample) {
            let step1 = sample.trim();
            let step2 = step1.replace(" ", "");
            return step2;
        }

        function validateEmail(email) {
            const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(String(email).toLowerCase());
        }

        function validatePassword(password) {
            if (password.includes(" ")) {
                return false;
            }

            if (password.length < 10) {
                return false;
            }

            return true;
        }


        //when use click press foeward button then
        let forward_btn = document.querySelector(".form-submit-btn>button");
        let email_bar = document.getElementById("email-bar");
        let msg_box = document.getElementById("message-box");
        let loading_box = document.getElementById("loading-box");
        let email_value = "",
            password_value = "";
        forward_btn.addEventListener("click", function() {
            if ((required(email_bar.value) == true) && (validateEmail(email_bar.value) == true)) {
                email_value += cleanData(email_bar.value);
                if ((required(password_bar.value) == true) && (validatePassword(password_bar.value) == true)) {
                    password_value += cleanData(password_bar.value);
                    msg_box.innerHTML = ``;
                } else {
                    msg_box.innerHTML = `
                <h4 class="text-danger">Password field should be filled and valid</h4>`;
                }
            } else {
                msg_box.innerHTML = `
                <h4 class="text-danger">Email field should be filled and valid</h4>`;
            }

            if ((email_value.length > 0) && (password_value.length > 0)) {
                alert("worked")
                loading_box.setAttribute("style", "display:flex !important;");
            }
        });
    </script>
</body>

</html>